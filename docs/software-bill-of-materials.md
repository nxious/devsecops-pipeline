# Software Bill of Materials (SBoM)

## Objective

This section aims to accomplish the objective listed as 10<sup>th</sup> point of [`Task 1`](../problem-statement/#task-2) under the [Problem Statement](../problem-statement).

We will be generating a Software Bill of Materials (SBoM) for our application.

## What is SBoM?

A bill of materials (BOM) is a centralized list of details of items used to manufacture a product. Our product is software that has libraries, open-source components, and third-party components in the codebase. Hence, we will be generating a `Software Bill of Materials (SBoM)`.

A software BOM lists the licenses that govern those components, the versions of the components used in the codebase, and their patch status. It allows organizations to identify risk, allows for greater transparency, and enables rapid impact analysis.

We will be using a tool known as [CycloneDX](https://cyclonedx.org/){target="_blank"} for generating our SBoM.

## CycloneDX

CycloneDX is a project aimed specifically at SBoM generation. It is open-source and generates the SBoM based on clear [specifications](https://cyclonedx.org/docs/1.2/){target="_blank"} which are managed by the CycloneDX Core working group, with origins in the OWASP community.

CycloneDX is available for multiple platforms, written in different languages which can be located on the organization's [Github](https://github.com/CycloneDX){target="_blank"}. It is also available as a [Node module](https://github.com/CycloneDX/cyclonedx-node-module){target="_blank"} which we will be using to generate our SBoM since our application is built entirely in Node.js.

## Installation

The installation steps are provided in the tool's [Github repository](https://github.com/CycloneDX/cyclonedx-node-module){target="_blank"}. Since we are using the Node module, we can install it using `npm`.

We need to install the tool globally so that we can run it as a command directly.

```
npm install -g @cyclonedx/bom
```

## Generating SBoM

To generate the SBoM, we will be using the following command :

```
cyclonedx-bom -o ~/reports/sbom.json
```

This command needs to be executed in the root directory of the project, where the application source code is located.

We will execute this command before deploying our application on the production server. 

This will be implemented as a stage in the `jenkinsfile`:

```
stage ('Generating SBoM') {
    steps {
        sh 'cyclonedx-bom -o ~/reports/sbom.json'
    }
}
```

The generated report consists of the list of components along with their type, name, version, description, licenses, package URL and external references (Github repositories). The report is quite comprehensive and provides a structured source of information about the application's codebase.

This report is stored in `JSON` format under the `reports` folder located in the default home directory of the Jenkins user at `/var/lib/jenkins`.

The full SBoM generated by CycloneDX can be accessed [here](reports/sbom.json){target="_blank"}.